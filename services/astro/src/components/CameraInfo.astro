---
import type { Camera } from "../lib/types";

interface Props {
    camera: Camera;
}

const { camera } = Astro.props;

const hasSettings =
    camera.settings &&
    (camera.settings.aperture ||
        camera.settings.shutter ||
        camera.settings.iso);
---

<details class="border border-zinc-700 rounded-lg overflow-hidden group">
    <summary
        class="w-full px-4 py-3 bg-zinc-800 hover:bg-zinc-750 transition-colors flex items-center justify-between cursor-pointer list-none"
    >
        <span class="font-medium text-white">Camera Details</span>
        <svg
            class="w-5 h-5 text-zinc-400 transition-transform group-open:rotate-180"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 9l-7 7-7-7"></path>
        </svg>
    </summary>

    <div class="px-4 py-3 bg-zinc-850 space-y-2 text-sm">
        {
            camera.make && (
                <div class="flex">
                    <span class="text-zinc-400 w-24">Camera:</span>
                    <span class="text-white">
                        {camera.make} {camera.model}
                    </span>
                </div>
            )
        }

        {
            camera.lens && (
                <div class="flex">
                    <span class="text-zinc-400 w-24">Lens:</span>
                    <span class="text-white">{camera.lens}</span>
                </div>
            )
        }

        {
            camera.film && (
                <div class="flex">
                    <span class="text-zinc-400 w-24">Film:</span>
                    <span class="text-white">{camera.film}</span>
                </div>
            )
        }

        {
            hasSettings && (
                <div class="pt-2 border-t border-zinc-700">
                    <div class="text-zinc-400 mb-2">Settings</div>
                    <div class="grid grid-cols-3 gap-2">
                        {camera.settings?.aperture && (
                            <div>
                                <div class="text-zinc-500 text-xs">
                                    Aperture
                                </div>
                                <div class="text-white">
                                    {camera.settings.aperture}
                                </div>
                            </div>
                        )}
                        {camera.settings?.shutter && (
                            <div>
                                <div class="text-zinc-500 text-xs">Shutter</div>
                                <div class="text-white">
                                    {camera.settings.shutter}
                                </div>
                            </div>
                        )}
                        {camera.settings?.iso && (
                            <div>
                                <div class="text-zinc-500 text-xs">ISO</div>
                                <div class="text-white">
                                    {camera.settings.iso}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            )
        }
    </div>
</details>
